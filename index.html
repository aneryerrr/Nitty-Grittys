<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Nitty Gritty</title>
  <!-- Strong no-cache for the HTML itself -->
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />
  <link rel="icon" href="./logo-ng.png" type="image/png" />
  <link rel="preconnect" href="https://unpkg.com" crossorigin>
  <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
  <!-- Your styles (cache-busted) -->
  <link rel="stylesheet" href="./styles.css?v=4" />
</head>
<body class="bg-slate-950 text-slate-100">
  <div id="root"></div>
  <!-- Google Identity Services (for button rendering) -->
  <script>
    window.GOOGLE_CLIENT_ID =
      "441262988610-kjk69jb2dq9592u4731vl70kh84btqj4.apps.googleusercontent.com";
  </script>
  <script src="https://accounts.google.com/gsi/client" async defer></script>
  <!-- Firebase SDK (modular, v12.6.0) -->
  <script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries
    import { getAuth, signInWithEmailAndPassword, createUserWithEmailAndPassword, signInWithPopup, GoogleAuthProvider, signOut, onAuthStateChanged, sendPasswordResetEmail, updatePassword, updateProfile, signInWithCredential } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-auth.js";
    import { getFirestore, doc as firestoreDoc, getDoc, setDoc, updateDoc, onSnapshot } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-firestore.js";

    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
      apiKey: "AIzaSyCdYPMv65UnKb0FE7YajJKXVq-2QebobJM",
      authDomain: "nittygritty-d5d13.firebaseapp.com",
      projectId: "nittygritty-d5d13",
      storageBucket: "nittygritty-d5d13.firebasestorage.app",
      messagingSenderId: "441262988610",
      appId: "1:441262988610:web:98d61ffa047a16d16ebcdb",
      measurementId: "G-2GTJ4FC95J"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    window.auth = getAuth(app);
    window.db = getFirestore(app);
    window.GoogleAuthProvider = GoogleAuthProvider;
    window.signInWithEmailAndPassword = signInWithEmailAndPassword;
    window.createUserWithEmailAndPassword = createUserWithEmailAndPassword;
    window.signInWithPopup = signInWithPopup;
    window.signOut = signOut;
    window.onAuthStateChanged = onAuthStateChanged;
    window.sendPasswordResetEmail = sendPasswordResetEmail;
    window.updatePassword = updatePassword;
    window.updateProfile = updateProfile;
    window.signInWithCredential = signInWithCredential;
    window.doc = firestoreDoc;
    window.getDoc = getDoc;
    window.setDoc = setDoc;
    window.updateDoc = updateDoc;
    window.onSnapshot = onSnapshot;
  </script>
  <!-- React + ReactDOM -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <!-- Tailwind (CDN) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- XLS/CSV import (SheetJS) -->
  <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
  <!-- Babel (in-browser) -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <!-- App (cache-busted) -->
  <script type="text/babel" data-presets="react,env" src="./script.js?v=4"></script>
</body>
</html>
